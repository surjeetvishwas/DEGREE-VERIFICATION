<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Statement of Marks – {{ student.roll_no }}</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: "Arial", sans-serif;
      background: #ffffff;
    }

    /* HEADER LOGO + UNIVERSITY TITLE */
    .header-container {
      text-align: center;
      padding: 20px 0;
      border-bottom: 1px solid #cccccc;
    }
    .header-container img {
      height: 80px;
    }
    .header-container .uni-title {
      margin-top: 10px;
      font-size: 22px;
      font-weight: 700;
      color: #000000;
    }
    .header-container .sub-title {
      margin-top: 4px;
      font-size: 14px;
      color: #333333;
    }

    /* GREEN BAR “STATEMENT OF MARKS OF <YEAR>” */
    .green-bar {
      background: #006633;
      color: #ffffff;
      text-align: center;
      padding: 8px 0;
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 20px;
    }

    /* DETAILS TABLE (Name, Father, Mother, Faculty, Roll, Enrollment, Course Year) */
    .details-table {
      width: 90%;
      max-width: 900px;
      margin: 0 auto 20px auto;
      border-collapse: collapse;
    }
    .details-table td {
      padding: 6px 8px;
      font-size: 14px;
      color: #000000;
      border: 1px solid #999999;
    }
    .details-table .label-cell {
      background: #f2f2f2;
      font-weight: 600;
      width: 25%;
      text-align: left;
    }
    .details-table .value-cell {
      width: 25%;
      text-align: left;
    }

    /* SUBJECTS TABLE */
    .subjects-table {
      width: 90%;
      max-width: 900px;
      margin: 0 auto;
      border-collapse: collapse;
      font-size: 14px;
    }
    .subjects-table th, .subjects-table td {
      border: 1px solid #444444;
      padding: 6px 8px;
    }
    .subjects-table th {
      background: #1f497d;  /* deep blue header */
      color: #ffffff;
      font-weight: 600;
      text-align: center;
    }
    /* Alternating row background can be added if you like */
    .subjects-table td {
      background: #ffffff;
    }

    /* TOTAL ROW (green) */
    .subjects-table .total-row td {
      background: #d4edda; /* light green */
      font-weight: 600;
      text-align: center;
    }

    /* BOTTOM SUMMARY BOX (Credits, SGPA, CGPA, Result) */
    .bottom-summary {
      width: 90%;
      max-width: 900px;
      margin: 20px auto;
      border: 1px solid #000000;
      padding: 10px;
      font-size: 14px;
    }
    .bottom-summary span {
      display: inline-block;
      margin-right: 40px;
      font-weight: 600;
    }

    /* GRADE DISTRIBUTION TABLE */
    .grade-dist {
      width: 90%;
      max-width: 900px;
      margin: 20px auto 40px auto;
      border-collapse: collapse;
      font-size: 13px;
    }
    .grade-dist th, .grade-dist td {
      border: 1px solid #000000;
      padding: 6px 8px;
      text-align: center;
    }
    .grade-dist th {
      background: #1f497d;
      color: #ffffff;
      font-weight: 600;
    }

    /* FOOTER NOTES */
    .footer-notes {
      width: 90%;
      max-width: 900px;
      margin: 20px auto;
      font-size: 12px;
      color: #333333;
    }
    .footer-notes p {
      margin: 4px 0;
    }
  </style>
</head>
<body>

  <!-- Header: Logo + University Name -->
  <div class="header-container">
    <img src="{{ url_for('static', filename='images/uttaranchal_logo.png') }}" 
         alt="Uttaranchal University Logo" />
    <div class="uni-title">
      UTTARANCHAL UNIVERSITY, DEHRADUN [INDIA]
    </div>
    <div class="sub-title">
      Established vide Uttaranchal University Act, 2012 (Uttaranchal Act No.11 of 2013)
    </div>
  </div>

  <!-- Green Bar: “STATEMENT OF MARKS FOR THE EXAMINATION <YEAR>” -->
  <div class="green-bar">
    STATEMENT OF MARKS FOR THE EXAMINATION {{ student.course_year }}
  </div>

  <!-- DETAILS TABLE -->
  <table class="details-table">
    <tr>
      <td class="label-cell">Name of the Student</td>
      <td class="value-cell">{{ student.name }}</td>

      <td class="label-cell">Faculty</td>
      <td class="value-cell">{{ student.faculty }}</td>
    </tr>
    <tr>
      <td class="label-cell">Father’s Name</td>
      <td class="value-cell">{{ student.father_name }}</td>

      <td class="label-cell">Roll No</td>
      <td class="value-cell">{{ student.roll_no }}</td>
    </tr>
    <tr>
      <td class="label-cell">Mother’s Name</td>
      <td class="value-cell">{{ student.mother_name }}</td>

      <td class="label-cell">Enrollment No</td>
      <td class="value-cell">{{ student.enrollment_no }}</td>
    </tr>
  </table>

  <!-- SUBJECTS TABLE HEADER -->
  {% set semesters = student.subjects | map(attribute='semester') | list | unique %}
  {% for sem in semesters %}
    <table class="subjects-table" style="margin-bottom: 32px;">
      <thead>
        <tr>
          <th rowspan="2">Semester</th>
          <th rowspan="2">Subject Code & Name</th>
          <th colspan="3">Max Marks</th>
          <th colspan="3">Marks Obtained</th>
        </tr>
        <tr>
          <th>Exam</th>
          <th>Sess</th>
          <th>Total</th>
          <th>Exam</th>
          <th>Sess</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        {% set sem_max_exam = 0 %}
        {% set sem_max_sess = 0 %}
        {% set sem_max_total = 0 %}
        {% set sem_marks_exam = 0 %}
        {% set sem_marks_sess = 0 %}
        {% set sem_marks_total = 0 %}
        {% for subj in student.subjects if subj.semester == sem %}
          <tr>
            <td>{{ subj.semester }}</td>
            <td style="text-align:left;">{{ subj.code }} – {{ subj.name }}</td>
            <td>{{ subj.max_exam }}</td>
            <td>{{ subj.max_sess }}</td>
            <td>{{ subj.max_total }}</td>
            <td>{{ subj.marks_exam }}</td>
            <td>{{ subj.marks_sess }}</td>
            <td>{{ subj.marks_total }}</td>
          </tr>
          {% set sem_max_exam = sem_max_exam + subj.max_exam %}
          {% set sem_max_sess = sem_max_sess + subj.max_sess %}
          {% set sem_max_total = sem_max_total + subj.max_total %}
          {% set sem_marks_exam = sem_marks_exam + subj.marks_exam %}
          {% set sem_marks_sess = sem_marks_sess + subj.marks_sess %}
          {% set sem_marks_total = sem_marks_total + subj.marks_total %}
        {% endfor %}
        <tr class="total-row">
          <td colspan="2"><strong>Total Semester {{ sem }}</strong></td>
          <td><strong>{{ sem_max_exam }}</strong></td>
          <td><strong>{{ sem_max_sess }}</strong></td>
          <td><strong>{{ sem_max_total }}</strong></td>
          <td><strong>{{ sem_marks_exam }}</strong></td>
          <td><strong>{{ sem_marks_sess }}</strong></td>
          <td><strong>{{ sem_marks_total }}</strong></td>
        </tr>
      </tbody>
    </table>
  {% endfor %}

  <!-- BOTTOM SUMMARY (Credits, SGPA, CGPA, Result) -->
  <!-- <div class="bottom-summary">
    <span>Credits Registered : {{ student.total_credits_registered }}</span>
    <span>Credits Earned     : {{ student.total_credits_earned }}</span><br/><br/>
    <span>SGPA    : {{ "%.2f"|format(student.sgpa) }}</span>
    <span>CGPA    : {{ "%.2f"|format(student.cgpa) }}</span>
    <span>Result  : {{ student.result_overall }}</span>
  </div> -->

  <!-- GRADE DISTRIBUTION TABLE -->
  <!-- <table class="grade-dist">
    <thead>
      <tr>
        <th>Level</th>
        <th>Outstanding</th>
        <th>Excellent</th>
        <th>Very Good</th>
        <th>Good</th>
        <th>Above Average</th>
        <th>Average</th>
        <th>Pass</th>
        <th>Fail</th>
      </tr>
      <tr>
        <th>Grade</th>
        <th>O</th>
        <th>A+</th>
        <th>A</th>
        <th>B+</th>
        <th>B</th>
        <th>C</th>
        <th>P</th>
        <th>F</th>
      </tr>
      <tr>
        <th>Grade Points</th>
        <th>10</th>
        <th>9</th>
        <th>8</th>
        <th>7</th>
        <th>6</th>
        <th>5</th>
        <th>4</th>
        <th>0</th>
      </tr>
      <tr>
        <th>Marks</th>
        <th>100–80</th>
        <th>79–70</th>
        <th>69–60</th>
        <th>59–55</th>
        <th>54–50</th>
        <th>49–45</th>
        <th>44–40</th>
        <th>39–0</th>
      </tr>
    </thead>
  </table> -->

  <!-- FOOTER NOTES -->
  <div class="footer-notes">
    <p><strong>Note :</strong></p>
    <p>1. Internet copy of statement of marks is only for record purpose (Original marksheet displays only grades.)</p>
    <p>2. This is internet generated document and cannot be used for any legal purpose.</p>
  </div>

</body>
</html>
